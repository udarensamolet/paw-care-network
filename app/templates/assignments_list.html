{% extends "_layout.html" %}
{% block content %}
<div class="container">
    <div class="grid cols-2">
        <div class="tile">
            <h3>As Owner (my requests)</h3>
            <ul class="list">
                {% for a in owner_rows %}
                <li>
                    Assign #{{ a.id }} — sitter #{{ a.sitter_id }}
                    — {{ a.start_at }} → {{ a.end_at }}
                    — status: {{ a.status }}
                    {% if a.status == 'active' %}
                    <form method="post" action="{{ url_for('assignments.cancel_assignment', assign_id=a.id) }}"
                        style="display:inline" onsubmit="return confirm('Cancel this assignment?');">
                        <button class="btn outline" type="submit">Cancel</button>
                    </form>
                    {% endif %}
                </li>
                {% else %}
                <li>No assignments as Owner.</li>
                {% endfor %}
            </ul>
            <div class="btn-row">
                <a class="btn outline" href="{{ url_for('assignments.review_list') }}">Pending applications</a>
            </div>
        </div>

        <div class="tile">
            <h3>As Sitter</h3>
            <ul class="list">
                {% for a in sitter_rows %}
                <li>
                    Assign #{{ a.id }} — request #{{ a.care_request_id }}
                    — {{ a.start_at }} → {{ a.end_at }}
                    — status: {{ a.status }}
                </li>
                {% else %}
                <li>No assignments as Sitter.</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}