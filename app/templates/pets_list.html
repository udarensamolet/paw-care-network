{% extends "_layout.html" %}
{% block content %}
<h1>Your Pets</h1>

<p><a href="{{ url_for('pets.create_pet') }}">+ Add new pet</a></p>

{% if pets %}
<ul>
    {% for p in pets %}
    <li>
        <strong>{{ p.name }}</strong>
        {% if p.photo_url %}
        <img src="{{ p.photo_url }}" alt="{{ p.name }}"
            style="max-width:120px; max-height:120px; object-fit:cover; border-radius:8px; vertical-align:middle;"
            onerror="this.style.display='none'">
        {% endif %}
        {% if p.species %} – {{ p.species }}{% endif %}
        {% if p.breed %} ({{ p.breed }}){% endif %}
        {% if p.age is not none %} – {{ p.age }} yrs{% endif %}
        |
        <a href="{{ url_for('pets.edit_pet', pet_id=p.id) }}">Edit</a>
        <form method="post" action="{{ url_for('pets.delete_pet', pet_id=p.id) }}" style="display:inline"
            onsubmit="return confirm('Delete this pet?');">
            <button type="submit">Delete</button>
        </form>
    </li>
    {% endfor %}
</ul>
{% else %}
<p>No pets yet.</p>
{% endif %}
{% endblock %}